{{extend 'layout.html'}} 
{{from serializers import json}}

<script src="{{=URL('static','js/common.js')}}"></script>
<script src="{{=URL('static','js/errors.js')}}"></script>
<script src="{{=URL('static','js/validation.js')}}"></script>
<script src="{{=URL('static','js/format_fields.js')}}"></script>
<script src="{{=URL('static','js/table.js')}}"></script>
<script src="{{=URL('static','js/search_person.js')}}"></script>

<div class="container" style="margin-top: 10px;">
    <div id="overlay" name="question_overlay">
         <center>
             <div id="processing" style="border:0px solid black;width:115px;height:115px;background-color:rgba(0,0,0,0);display:none;">
                 <!--img style="display: table-cell;text-align:center;vertical-align: middle;width:100px;height:100px;margin-top:7px;margin-left:7px;"
                      src="{{=URL('static', 'images/loading.gif')}}" /-->
            </div>
            <div id="confirm_delete_div" style="border:1px solid black;width:410px;background-color:white;display:none;border-radius:5px;">
                <span id='message' val=""></span><hr>
                <table style="width:350px;margin-bottom:30px;margin-top:10px;"><tbody>
                <tr>
                    <td style="width:175px;text-align:center"><input type="button" class="btn btn-primary" value="Sim"  style="width:100px;height:35px;"
                    onclick="deletePerson();"/></td>
                    <td style="text-align:center"><input type="button" class="btn btn-info" value="Não" style="width:100px;height:35px;" 
                    onclick="manage_overlay('hide','confirm_delete_div');" /></td>
                </tr>
                </tbody></table>
            </div>
         </center>
    </div>
    <h4 style='text-align: center;margin-top:20px;border-bottom: 1px solid #CCCCCC;margin-bottom:20px;'>
        <b>Buscar Cliente</b>
    </h4>
    <div class="alert alert-danger" id='error_div' style="display:none;text-align:center;">
            <a class="close" onclick="$('#error_div').hide()">×</a>
            <span id="error_span"></span>
    </div>
    <div class="alert alert-warning" id='warning_div' style="display:none;text-align:center;">
            <a class="close" onclick="$('#warning_div').hide()">×</a>
            <span id="warning_span"></span>
    </div>
    <div class="alert alert-success" id='success_div' style="display:none;text-align:center;">
            <a class="close" onclick="$('#success_div').hide()">×</a>
            <span id="success_span"></span>
    </div>
    <div class="alert alert-info" id='info_div' style="display:none;text-align:center;">
            <a class="close" onclick="$('#info_div').hide()">×</a>
            <span id="info_span"></span>
    </div>
    <form action="{{=URL('search_person')}}" method="post" enctype="multipart/form-data" id="submit_form" 
          style="padding:0px 0px 0px 0px; margin:0px 0px 0px 0px;margin-top:10px;">

        <input type="text" id="id" name="id" value="" style="display:none"/>
        <center>
	    <table>
	        <tr>
	            <td>
	                <select id="option" name="option" class="form-control" onchange="blockValue(this);">
	                    <option value="0">Todos</option>
	                    <option value="1">Nome</option>
	                    <option value="2">CPF</option>
	                    <option value="3">RG</option>
	                </select>
	            </td>
	            <td>
	                <input type="text" id="value" name="value" class="form-control" value="" style="min-width:350px;">
	            </td>
	            <td>
	                <input type="button" id="search" name="search" class="btn btn-primary" style="min-width:100px;" value="Buscar" onclick="search_person();"/>
	            </td>
            </tr>
	    </table>
	    </center>
    </form>

    <div id="table_div" style="width:970px;margin: auto auto;margin-top:50px;">
    </div>
</div>
<script type="text/javascript">

{{if session.flash_msg!='' and session.flash_msg!=None:}}
    exporeError('{{=session.flash_msg}}','return_data');
    {{session.flash_msg = None}}
{{pass}}
fill_search({{=XML(json(formData))}},'{{=option}}','{{=value}}');
</script>
<noscript>
    <style type="text/css">
        .MaxAppAreaSize {display:none;}
    </style>
</noscript> 